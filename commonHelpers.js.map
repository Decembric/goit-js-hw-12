{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n  enableKeyboard: true,\n});\n\n\nconst hitsContainer = document.querySelector('.gallery');\n\nexport { hitsContainer, render }; \nfunction render(hits) {\n  hitsContainer.innerHTML = '';\n  const hitsRef = hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `<div class=\"gallery\">\n            <ul>\n        <li><a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"/></a></li>\n          <li><p>Likes ${likes}</p></li>\n          <li>\n            <p>Views ${views}</p>\n          </li>\n          <li><p>Comments ${comments}</p></li>\n          <li><p>Downloads ${downloads}</p></li>\n        </ul>\n        </div>`\n  });\n  hitsContainer.insertAdjacentHTML('beforeend', hitsRef.join(''));\n  lightbox.refresh();\n};","import { hitsContainer, render } from \"./render-functions\";\nimport axios from 'axios';\nimport iziToast from \"izitoast\";\n\n\nconst API_KEY = '42373349-27b23dee84583d41aca0b8d31';\n \nlet currentPage = 1\nconst loadMoreButtonRef = document.querySelector('.js-load');\n\nfunction onLoadMore() {\n  currentPage += 1\n  getPicture(currentPage)\n}\n\nloadMoreButtonRef.addEventListener('click', onLoadMore)\n\nconst loaderRef = document.querySelector('.loader');\nonHideLoaderText();\nfunction onShowLoaderText() {\n    loaderRef.style.display = 'block';\n    \n}\n\nfunction onHideLoaderText() {\n    loaderRef.style.display = 'none';\n}\n\nexport default function getPicture(query, page = 1) {\n  onShowLoaderText();\n  const urlAPI = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=15`;\n  axios.get(urlAPI).then(res => res.data).then(({ hits, totalHits\n  }) => {\n    if (totalHits !== 0) {\n      render(hits);\n      onHideLoaderText();\n    } else {\n      onHideLoaderText();\n      hitsContainer.innerHTML = \"\";\n      iziToast.show({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        titleSize: '16px',\n        titleLineHeight: '150%',\n        messageSize: '16px',\n        messageLineHeight: '150%',\n        backgroundColor: '#ef4040',\n        position: 'bottomRight',\n      });\n    };\n  }).catch(error =>\n    console.error(error)).finally();  \n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport getPicture from \"./js/pixabay-api\";\nimport { hitsContainer } from \"./js/render-functions\";\n\nconst inputQueryRef = document.querySelector('input');\nconst formRef = document.querySelector('form');\n\nformRef.addEventListener('submit', onInputQuery);\n\nlet query = \"\"\n\nfunction onInputQuery(evt) {\n  evt.preventDefault();\n  query = inputQueryRef.value.trim();\n  if (query === '') {\n    hitsContainer.innerHTML = \"\";\n    iziToast.show({\n      title: 'Error',\n      message: 'Please, enter a non-blank line',\n      titleSize: '16px',\n      titleLineHeight: '150%',\n      messageSize: '16px',\n      messageLineHeight: '150%',\n      backgroundColor: '#ef4040',\n      position: 'bottomRight',\n    });\n    return\n  } else {\n    \n    getPicture(query);\n  }\n  inputQueryRef.value = \"\";\n}"],"names":["lightbox","SimpleLightbox","hitsContainer","render","hits","hitsRef","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","currentPage","loadMoreButtonRef","onLoadMore","getPicture","loaderRef","onHideLoaderText","onShowLoaderText","query","page","urlAPI","axios","res","totalHits","iziToast","error","inputQueryRef","formRef","onInputQuery","evt"],"mappings":"owBAEA,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,MACd,eAAgB,EAClB,CAAC,EAGKC,EAAgB,SAAS,cAAc,UAAU,EAGvD,SAASC,EAAOC,EAAM,CACpBF,EAAc,UAAY,GAC1B,MAAMG,EAAUD,EAAK,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACvF;AAAA;AAAA,uBAEYL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA,yBACpDC,CAAK;AAAA;AAAA,uBAEPC,CAAK;AAAA;AAAA,4BAEAC,CAAQ;AAAA,6BACPC,CAAS;AAAA;AAAA,eAGnC,EACDV,EAAc,mBAAmB,YAAaG,EAAQ,KAAK,EAAE,CAAC,EAC9DL,EAAS,QAAO,CAClB,CCxBA,MAAMa,EAAU,qCAEhB,IAAIC,EAAc,EAClB,MAAMC,EAAoB,SAAS,cAAc,UAAU,EAE3D,SAASC,GAAa,CACpBF,GAAe,EACfG,EAAWH,CAAW,CACxB,CAEAC,EAAkB,iBAAiB,QAASC,CAAU,EAEtD,MAAME,EAAY,SAAS,cAAc,SAAS,EAClDC,IACA,SAASC,GAAmB,CACxBF,EAAU,MAAM,QAAU,OAE9B,CAEA,SAASC,GAAmB,CACxBD,EAAU,MAAM,QAAU,MAC9B,CAEe,SAASD,EAAWI,EAAOC,EAAO,EAAG,CAClDF,IACA,MAAMG,EAAS,gCAAgCV,CAAO,MAAMQ,CAAK,iEAAiEC,CAAI,eACtIE,EAAM,IAAID,CAAM,EAAE,KAAKE,GAAOA,EAAI,IAAI,EAAE,KAAK,CAAC,CAAE,KAAArB,EAAM,UAAAsB,CACxD,IAAQ,CACAA,IAAc,GAChBvB,EAAOC,CAAI,EACXe,MAEAA,IACAjB,EAAc,UAAY,GAC1ByB,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,2EACT,UAAW,OACX,gBAAiB,OACjB,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,aAClB,CAAO,EAEJ,CAAA,EAAE,MAAMC,GACP,QAAQ,MAAMA,CAAK,CAAC,EAAE,QAAO,CACjC,CC/CA,MAAMC,EAAgB,SAAS,cAAc,OAAO,EAC9CC,EAAU,SAAS,cAAc,MAAM,EAE7CA,EAAQ,iBAAiB,SAAUC,CAAY,EAE/C,IAAIV,EAAQ,GAEZ,SAASU,EAAaC,EAAK,CAGzB,GAFAA,EAAI,eAAc,EAClBX,EAAQQ,EAAc,MAAM,OACxBR,IAAU,GAAI,CAChBnB,EAAc,UAAY,GAC1ByB,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,iCACT,UAAW,OACX,gBAAiB,OACjB,YAAa,OACb,kBAAmB,OACnB,gBAAiB,UACjB,SAAU,aAChB,CAAK,EACD,MACJ,MAEIV,EAAWI,CAAK,EAElBQ,EAAc,MAAQ,EACxB"}