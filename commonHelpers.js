import{a as f,S as h,i as d}from"./assets/vendor-64b55ca9.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();f.defaults.baseURL="https://pixabay.com/";const P="42373349-27b23dee84583d41aca0b8d31";async function p(t,i=1){return(await f.get("api/",{params:{key:P,per_page:15,page:i,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0}})).data}const R=new h(".gallery a",{captionDelay:250,captionsData:"alt",enableKeyboard:!0});function m(t){const i=t.map(({webformatURL:r,largeImageURL:n,tags:e,likes:o,views:a,comments:H,downloads:x})=>`<li><a href="${n}"><img src="${r}" alt="${e}"/></a></li>
          <li><p>Likes ${o}</p></li>
          <li>
            <p>Views ${a}</p>
          </li>
          <li><p>Comments ${H}</p></li>
          <li><p>Downloads ${x}</p></li>`);l.insertAdjacentHTML("beforeend",i.join("")),R.refresh()}const l=document.querySelector(".gallery"),q=document.querySelector("input"),z=document.querySelector("form"),c=document.querySelector(".loader-button"),y=document.querySelector(".loader"),b=15;let g="",s=1,C;const L=new h(".gallery a",{captionDelay:250,captionsData:"alt",enableKeyboard:!0});function S(){y.style.display="block"}function u(){y.style.display="none"}c.addEventListener("click",O);z.addEventListener("submit",$);function v(){d.show({title:"Error",message:"Please, enter a non-blank line",titleSize:"16px",titleLineHeight:"150%",messageSize:"16px",messageLineHeight:"150%",backgroundColor:"#ef4040",position:"bottomRight"})}function E(){d.show({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!",titleSize:"16px",titleLineHeight:"150%",messageSize:"16px",messageLineHeight:"150%",backgroundColor:"#ef4040",position:"bottomRight"})}function M(){d.show({title:"Error",message:"We're sorry, but you've reached the end of search results.",titleSize:"16px",titleLineHeight:"150%",messageSize:"16px",messageLineHeight:"150%",backgroundColor:"#ef4040",position:"bottomRight"})}function w(t){d.show({title:"Error",message:t,titleSize:"16px",titleLineHeight:"150%",messageSize:"16px",messageLineHeight:"150%",backgroundColor:"#ef4040",position:"bottomRight"})}async function $(t){t.preventDefault();const i=t.currentTarget.elements.query.value.trim();try{if(i===""){l.innerHTML="",v(),c.hidden=!0,s=1;return}S(),g=i,s=1;const{hits:r,totalHits:n}=await p(g,s);if(n>0){m(r),u(),L.refresh();const{height:e}=l.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"}),q.value="",c.hidden=!1,C=Math.ceil(n/b)}else l.innerHTML="",E()}catch(r){u(),w(r)}}async function O(){try{S(),s+=1;const{hits:t,totalHits:i}=await p(g,s);m(t);const r=l.firstElementChild.getBoundingClientRect();window.scrollBy({top:r.height,behavior:"smooth"}),L.refresh(),Math.ceil(i/b)!==s&&(c.hidden=!0,u(),M())}catch(t){u(),w(t)}}
//# sourceMappingURL=commonHelpers.js.map
