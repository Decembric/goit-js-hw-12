import{a as h,S as x,i as u}from"./assets/vendor-64b55ca9.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();h.defaults.baseURL="https://pixabay.com/";const P="42373349-27b23dee84583d41aca0b8d31";async function p(t,i=1){return(await h.get("api/",{params:{key:P,per_page:15,page:i,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0}})).data}function m(t){const i=t.map(({webformatURL:r,largeImageURL:n,tags:e,likes:o,views:s,comments:w,downloads:H})=>`<li><a href="${n}"><img src="${r}" alt="${e}"/></a></li>
          <li><p>Likes ${o}</p></li>
          <li>
            <p>Views ${s}</p>
          </li>
          <li><p>Comments ${w}</p></li>
          <li><p>Downloads ${H}</p></li>`);a.insertAdjacentHTML("beforeend",i.join("")),g.refresh()}const g=new x(".gallery a",{captionDelay:250,captionsData:"alt",enableKeyboard:!0}),a=document.querySelector(".gallery"),R=document.querySelector("input"),q=document.querySelector("form"),c=document.querySelector(".loader-button"),y=document.querySelector(".loader"),b=15;let d="",l=1,z;function L(){y.style.display="block"}function f(){y.style.display="none"}c.addEventListener("click",O);q.addEventListener("submit",M);function C(){u.show({title:"Error",message:"Please, enter a non-blank line",titleSize:"16px",titleLineHeight:"150%",messageSize:"16px",messageLineHeight:"150%",backgroundColor:"#ef4040",position:"bottomRight"})}function v(){u.show({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!",titleSize:"16px",titleLineHeight:"150%",messageSize:"16px",messageLineHeight:"150%",backgroundColor:"#ef4040",position:"bottomRight"})}function E(){u.show({title:"Error",message:"We're sorry, but you've reached the end of search results.",titleSize:"16px",titleLineHeight:"150%",messageSize:"16px",messageLineHeight:"150%",backgroundColor:"#ef4040",position:"bottomRight"})}function S(t){u.show({title:"Error",message:t,titleSize:"16px",titleLineHeight:"150%",messageSize:"16px",messageLineHeight:"150%",backgroundColor:"#ef4040",position:"bottomRight"})}async function M(t){t.preventDefault();const i=t.currentTarget.elements.query.value.trim();try{if(i===""){a.innerHTML="",C(),c.hidden=!0;return}L(),d=i;const{hits:r,totalHits:n}=await p(d,l);if(n>0){m(r),f(),g.refresh();const{height:e}=a.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"}),R.value="",c.hidden=!1,z=Math.ceil(n/b)}else a.innerHTML="",v()}catch({message:r}){f(),S(r)}}async function O(){try{L(),l+=1;const{hits:t,totalHits:i}=await p(d,l);m(t);const r=a.firstElementChild.getBoundingClientRect();window.scrollBy({top:r.height,behavior:"smooth"}),g.refresh(),Math.ceil(i/b)===l&&(c.hidden=!0,E())}catch({message:t}){S(t)}finally{f()}}
//# sourceMappingURL=commonHelpers.js.map
